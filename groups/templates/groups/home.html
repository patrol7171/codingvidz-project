{% extends 'groups/base.html' %}
{% block content %}
<section class="cover jumbotron jumbotron-fluid text-center">
  <div class="img"></div>
  <div class="container" id="header">
    <h1 class="jumbotron-heading">My Favorite YouTube Programming Videos</h1>
    <p class="lead text-light" id="lead-p">These helpful "how-to" videos are great for both learning and reviewing programming-related topics associated with building applications using Python. Click the button below to get started.</p>
    <p><a href="{% url 'create_group' %}" class="btn btn-primary">Create New Video Group</a></p>
  </div>
</section>

<div class="container">
  <h1 class="text-center">Popular Videos</h1>
  {% for group in popular_groups %}
  <h2><a href="{% url 'detail_group' group.id %}">{{ group.title }}</a></h2>
  <div class="row">
    {% for video in group.video_set.all %}
    <div class="col-md-4 mt-3">
      <div class="card mb-4 shadow-sm">
        <iframe width="100%" height="225" src="https://www.youtube.com/embed/{{ video.youtube_id }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <div class="card-body">
          <p class="card-text">{{ video.title }}</p>
        </div>
      </div>
    </div>
    {% endfor %}
    </div>
  {% endfor %}

  <br /><br />
  <h1 class="text-center">Recently Uploaded</h1>
  {% for group in recent_groups %}
  <h2><a href="{% url 'detail_group' group.id %}">{{ group.title }}</a></h2>
  <div class="row">
    {% for video in group.video_set.all %}
    <div class="col-md-4 mt-3">
      <div class="card mb-4 shadow-sm">
        <iframe width="100%" height="225" src="https://www.youtube.com/embed/{{ video.youtube_id }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <div class="card-body">
          <p class="card-text">{{ video.title }}</p>
        </div>
      </div>
    </div>
    {% endfor %}
    </div>
  {% endfor %}
</div>
{% endblock %}
